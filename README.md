# TripPlanner - Система коллективного планирования путешествий

TripPlanner - это веб-приложение для совместного планирования маршрутов путешествий, расчета бюджета и координации между участниками.

## Основные возможности

- Интерактивная карта для планирования маршрутов и точек интереса
- Коллективное управление с разными ролями (владелец, редактор, зритель)
- Подробный расчет бюджета с учетом транспорта, жилья и других расходов
- Система голосования для выбора лучшего маршрута
- Интеграция с календарями

## Структура проекта

Проект организован в виде монорепозитория:

- `/client` - клиентская часть (React, TypeScript, Material UI, Leaflet)
- `/server` - серверная часть (Node.js, Express, TypeORM, PostgreSQL)
- `Dockerfile` - единый Docker-файл для сборки всего приложения
- `docker-compose.yml` - конфигурация для Docker-контейнеризации

## Требования

- Node.js 16+
- PostgreSQL 12+
- npm 7+
- Docker и Docker Compose (опционально)

## Установка и запуск

### Клонирование репозитория

```bash
git clone <url-репозитория>
cd trip-planner
```

### Запуск через npm (для разработки)

```bash
npm install
npm run dev
```

Это запустит одновременно клиентскую часть на порту 3000 и сервер на порту 5000.

### Запуск с использованием Docker

Для запуска приложения с использованием Docker можно использовать следующие команды:

```bash
# Сборка образов
npm run docker:build

# Запуск контейнеров
npm run docker:up

# Остановка контейнеров
npm run docker:down

# Перезапуск контейнеров
npm run docker:restart
```

Или напрямую через Docker Compose:

```bash
docker-compose up -d
```

Приложение будет доступно по адресу http://localhost:80

## Настройка переменных окружения

### Для сервера

Создайте файл `.env` в директории `/server` со следующими переменными:

```
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_DATABASE=trip_planner
JWT_SECRET=ваш_секретный_ключ
```

### Для Docker

Переменные окружения для Docker определены в `docker-compose.yml` и могут быть изменены там же.

## Основной функционал

- **Авторизация**: регистрация и вход пользователей
- **Управление путешествиями**: создание, редактирование, просмотр
- **Планирование маршрута**: добавление точек на карту, описаний и планирование посещений
- **Управление бюджетом**: расчет и распределение расходов между участниками
- **Голосование**: система для выбора предпочтительных маршрутов и мест
